<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>

<plugin>

	<!--
    <extension point="org.eclipse.ui.commands">
        <category id="org.jkiss.dbeaver.ext.altibase" name="Altibase" description="Altibase Commands"/>
        <command id="org.jkiss.dbeaver.ext.altibase.code.compile" name="Compile" description="Compile" categoryId="org.jkiss.dbeaver.ext.altibase"/>
        <command id="org.jkiss.dbeaver.ext.altibase.code.package.navigate" name="Go to source code" description="Navigate to object source code" categoryId="org.jkiss.dbeaver.ext.altibase"/>
    </extension>

    <extension point="org.eclipse.ui.commandImages">
        <image commandId="org.jkiss.dbeaver.ext.altibase.code.compile" icon="icons/compile.png"/>
        <image commandId="org.jkiss.dbeaver.ext.altibase.code.package.navigate" icon="icons/source_navigate.png"/>
        <image commandId="org.jkiss.dbeaver.ext.altibase.job.run" icon="icons/run.png"/>
    </extension>
    -->
    
    <extension point="org.jkiss.dbeaver.dataSourceView">
        <view
                id="org.jkiss.dbeaver.ext.altibase.dataSourceWizardView"
                dataSource="Altibase"
                targetID="org.jkiss.dbeaver.ext.ui.newConnectionWizard"
                label="%altibase.dialog.connection.header"
                class="org.jkiss.dbeaver.ext.altibase.ui.views.AltibaseConnectionPage"
                icon="icons/altibase_icon.png">
        </view>
        <view
              class="org.jkiss.dbeaver.ext.altibase.ui.views.AltibaseConnectionPage"
              dataSource="Altibase"
              icon="icons/altibase_icon.png"
              id="org.jkiss.dbeaver.ext.altibase.dataSourceEditorView"
              label="%altibase.dialog.connection.header"
              targetID="org.jkiss.dbeaver.ext.ui.editConnectionDialog">
        </view>
    </extension>

    <extension point="org.jkiss.dbeaver.databaseEditor">
        <editor id="source.declaration" class="org.jkiss.dbeaver.ui.editors.sql.SQLSourceViewer"
                label="%editor.package.declaration.name" description="%editor.package.declaration.description" icon="#sql_text" position="additions_middle"
                contributor="org.jkiss.dbeaver.ui.editors.sql.SQLEditorContributorNested" type="folder" embeddable="false">
            <objectType name="org.jkiss.dbeaver.ext.altibase.model.AltibaseSequence"/>
            <objectType name="org.jkiss.dbeaver.ext.altibase.model.AltibaseSynonym"/>
            <objectType name="org.jkiss.dbeaver.ext.altibase.model.AltibaseTableIndex"/>
            <!--<objectType name="org.jkiss.dbeaver.ext.altibase.model.AltibaseTrigger"/>-->
        </editor>
	    <configurator class="org.jkiss.dbeaver.ext.altibase.ui.config.AltibaseProcedureConfigurator">
	        <objectType name="org.jkiss.dbeaver.ext.altibase.model.AltibaseProcedureStandAlone"/>
	    </configurator>
	    	    <configurator class="org.jkiss.dbeaver.ext.altibase.ui.config.AltibaseTypesetConfigurator">
	        <objectType name="org.jkiss.dbeaver.ext.altibase.model.AltibaseTypeset"/>
	    </configurator>
	    <configurator class="org.jkiss.dbeaver.ext.altibase.ui.config.AltibaseSequenceConfigurator">
	        <objectType name="org.jkiss.dbeaver.ext.altibase.model.AltibaseSequence"/>
	    </configurator>
    </extension>

    <extension point="org.eclipse.ui.preferencePages">
        <page category="org.jkiss.dbeaver.preferences.drivers" id="org.jkiss.dbeaver.preferences.altibase.general" 
        class="org.jkiss.dbeaver.ext.altibase.ui.views.PrefPageAltibase" name="Altibase">
            <keywordReference id="org.jkiss.dbeaver.core.keyword.dbeaver"/>
        </page>
    </extension>
    
    <extension point="org.eclipse.ui.propertyPages">
        <page id="org.jkiss.dbeaver.preferences.altibase.main" class="org.jkiss.dbeaver.ext.altibase.ui.views.PrefPageAltibase" 
        name="%page.org.jkiss.dbeaver.preferences.altibase.main.name">
            <enabledWhen>
                <adapt type="org.jkiss.dbeaver.model.DBPDataSourceContainer">
                    <test property="org.jkiss.dbeaver.core.datasourceContainer.driverId" value="Altibase"/>
                </adapt>
            </enabledWhen>
        </page>
    </extension>

    <extension point="org.eclipse.ui.editors">
        <editor
                name="Session Manager"
                icon="platform:/plugin/org.jkiss.dbeaver.model/icons/tree/sessions.png"
                class="org.jkiss.dbeaver.ext.altibase.ui.editors.AltibaseSessionEditor"
                id="org.jkiss.dbeaver.ext.altibase.ui.editors.AltibaseSessionEditor"
                contributorClass="org.jkiss.dbeaver.ui.editors.EditorSearchActionsContributor">
        </editor>
    </extension>

    <extension point="org.jkiss.dbeaver.dataSourceProvider">
        <editorContribution editorId="org.jkiss.dbeaver.ext.altibase.ui.editors.AltibaseSessionEditor" category="connectionEditor" label="%editor.session_manager.name" icon="platform:/plugin/org.jkiss.dbeaver.model/icons/tree/sessions.png">
            <supports dataSource="altibase"/>
        </editorContribution>
    </extension>
        
</plugin>
